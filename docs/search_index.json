{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["introduct","介绍","用于收集一些常见的性能问题，以及perf使用的例子。"],"perf examples.html":["#","'block:*'","'block:block_rq_issue'","'ext4:*'","'sched:*'","'syscalls:sys_enter_*'","'vmscan:*'","(approx.):","(includ","(via","........","............",".................","................................","0","0.00%","1","10","100.00%","1000","16:35","22","3.10.0版本追踪磁盘i/o的调用堆栈。","3.9m","5","9","99","[k]","[kernel.kallsyms]","ag","a指定追踪所有的cpus,参数","basic","block","block:block_rq_issu","block:block_rq_issue事件，参数","c:","cach","call","children","command","command,","command:","core","count","counter","counters,","cpu","cpu/event=0x0e,umask=0x01,inv,cmask=0x01/","ctrl","current","cycl","cycles,instructions,cach","cycles:","c时，追踪的数据被写入perf.data文件中。perf","d","data","dcach","detail","devic","display","dtlb","e","eg,","entir","event","events,","events:","exampl","ext4","extras)","f","feb","frame","frontend","function","g","graphs。","g指定捕获程序调用的堆栈。当执行ctrl","header","header/","hertz,","hertz:","i/o","info,","known","kthread","kworker/2:1h","l1","l2","last","level","lines,","list","ll","llc","load","loads,dtlb","loads,l1","loads,llc","memory是否到达瓶颈，造成cpus阻塞？","miss","misses,bu","misses,dtlb","misses,l1","misses,llc","misses？","n","object","on","options.","p","per","perf","perf.data","perf是linux内核的一部分，被放置在","perf是一个基于事件的监控工具，借助这个事件监控工具，能解决很多高级的性能瓶颈，以及发现各种疑难杂症。它能解答如下几类问题：","pid","pid,","pleas","pmc","pmcs:","pointers)","prefetch","prerequisites,","presentations,","print","process_one_work","profiling,","r003c","raw","raw_syscalls:sys_ent","record","record命令用来追踪","references,cach","report","report命令用来可视化保存在perf.data中的数据，参数","ret_from_fork","root","rw","sampl","samples:","sched","schedul","second","second:","seconds:","self","share","sleep","specifi","specification:","stack","stall","stat","statist","statistics,","stdio","stdio指定按照树状结构展示。","store","stores,llc","symbol","syscal","system","system,","time","tlb","tools/perf文件目录下。它使用了很多linux的tracing特性，有一些并没有通过perf的命令暴露出来，需要使用ftrace接口代替。","trace","tracepoints:","type","unhalt","until","us","variou","via","vmscan","wide,","wide:","worker_thread","|","~","➜","一个简单的调用堆栈截图","一些有用的短命令","下面展示一下perf","为什么内核频繁占用cpu？代码的调用堆栈是什么？","什么正在触发tcp重传？","以及flame","列出系统支持的事件","哪些代码调用引起cpu","哪些代码调用整整分配内存，分配了多少内存？","在上面的列子中，perf","性能分析","接下来的几大主要模块：events,","某个内核函数是否正在被调用？调用频率是多少？","正在执行的线程被换出cpu的原因是什么？","用法","计数相关事件"],"an online example.html":["((","19638","30","99",">","build","build编译。","copy到本地使用浏览器打开svg","exampl","f","flamegraph.pl","follow","f指定记录事件的频率99hz，","g","go","g记录下函数调用的堆栈，","i=0;","main.go","onlin","p","perf","perf.data是一个二进制文件，需要把它转换为文本文件。","perf.fold","perf.pl","perf.svg","perf.txt","p参数指定监控的进程，","record","record用于追踪事件，参数","root@m","scp","script","sleep","sleep参数指定监控的时间范围。","stackcollaps","staging1:/root/perf/perf.svg","~/data","展开perf.txt","模拟流量","生成perf.data","生成svg","生成火焰图","线上的makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go","编译一个可追踪堆栈的二进制","转换perf.data"]},"length":3},"tokenStore":{"root":{"0":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}},".":{"0":{"0":{"docs":{},"%":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}},"docs":{}},"docs":{}}},"1":{"0":{"0":{"0":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}},"docs":{},".":{"0":{"0":{"docs":{},"%":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}},"docs":{}},"docs":{}}},"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.023762376237623763}}},"6":{"docs":{},":":{"3":{"5":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{}},"docs":{}}},"9":{"6":{"3":{"8":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{}},"docs":{}},"docs":{}},"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}},"2":{"2":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{}},"3":{"0":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{},".":{"1":{"0":{"docs":{},".":{"0":{"docs":{},"版":{"docs":{},"本":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"磁":{"docs":{},"盘":{"docs":{},"i":{"docs":{},"/":{"docs":{},"o":{"docs":{},"的":{"docs":{},"调":{"docs":{},"用":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"。":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}},"docs":{}}},"docs":{}},"9":{"docs":{},"m":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"docs":{}}},"5":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.011881188118811881}}},"9":{"9":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.015841584158415842},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}},"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":10}}}}}}}}},"f":{"docs":{},"o":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"/":{"docs":{},"o":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"=":{"0":{"docs":{},";":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},"docs":{}}},"介":{"docs":{},"绍":{"docs":{"./":{"ref":"./","tf":0.5}}}},"用":{"docs":{},"于":{"docs":{},"收":{"docs":{},"集":{"docs":{},"一":{"docs":{},"些":{"docs":{},"常":{"docs":{},"见":{"docs":{},"的":{"docs":{},"性":{"docs":{},"能":{"docs":{},"问":{"docs":{},"题":{"docs":{},"，":{"docs":{},"以":{"docs":{},"及":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"使":{"docs":{},"用":{"docs":{},"的":{"docs":{},"例":{"docs":{},"子":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.5}}}}}}}}}}}}}}}}}}}}}}}}}}},"法":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"#":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.06336633663366337}}},"'":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},":":{"docs":{},"*":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"_":{"docs":{},"r":{"docs":{},"q":{"docs":{},"_":{"docs":{},"i":{"docs":{},"s":{"docs":{},"s":{"docs":{},"u":{"docs":{},"e":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}},"e":{"docs":{},"x":{"docs":{},"t":{"4":{"docs":{},":":{"docs":{},"*":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"docs":{}}}},"s":{"docs":{},"c":{"docs":{},"h":{"docs":{},"e":{"docs":{},"d":{"docs":{},":":{"docs":{},"*":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}}}}}}}},"y":{"docs":{},"s":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"s":{"docs":{},":":{"docs":{},"s":{"docs":{},"y":{"docs":{},"s":{"docs":{},"_":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"r":{"docs":{},"_":{"docs":{},"*":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}}}}}}}}}}}}}}}}}}},"v":{"docs":{},"m":{"docs":{},"s":{"docs":{},"c":{"docs":{},"a":{"docs":{},"n":{"docs":{},":":{"docs":{},"*":{"docs":{},"'":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}},"(":{"docs":{},"a":{"docs":{},"p":{"docs":{},"p":{"docs":{},"r":{"docs":{},"o":{"docs":{},"x":{"docs":{},".":{"docs":{},")":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}},"i":{"docs":{},"n":{"docs":{},"c":{"docs":{},"l":{"docs":{},"u":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"v":{"docs":{},"i":{"docs":{},"a":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"(":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{},".":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"[":{"docs":{},"k":{"docs":{},"]":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}},"e":{"docs":{},"r":{"docs":{},"n":{"docs":{},"e":{"docs":{},"l":{"docs":{},".":{"docs":{},"k":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"s":{"docs":{},"y":{"docs":{},"m":{"docs":{},"s":{"docs":{},"]":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}}}}}}}}}}}}}}},"a":{"docs":{},"g":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"指":{"docs":{},"定":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"所":{"docs":{},"有":{"docs":{},"的":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"s":{"docs":{},",":{"docs":{},"参":{"docs":{},"数":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}},"b":{"docs":{},"a":{"docs":{},"s":{"docs":{},"i":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},":":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"_":{"docs":{},"r":{"docs":{},"q":{"docs":{},"_":{"docs":{},"i":{"docs":{},"s":{"docs":{},"s":{"docs":{},"u":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"e":{"docs":{},"事":{"docs":{},"件":{"docs":{},"，":{"docs":{},"参":{"docs":{},"数":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}},"u":{"docs":{},"i":{"docs":{},"l":{"docs":{},"d":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"编":{"docs":{},"译":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}},"c":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}},"a":{"docs":{},"c":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}}},"l":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}},"h":{"docs":{},"i":{"docs":{},"l":{"docs":{},"d":{"docs":{},"r":{"docs":{},"e":{"docs":{},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"o":{"docs":{},"m":{"docs":{},"m":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.013861386138613862}},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.009900990099009901}}}}}}}},"r":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"u":{"docs":{},"n":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.02178217821782178}},"e":{"docs":{},"r":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"p":{"docs":{},"y":{"docs":{},"到":{"docs":{},"本":{"docs":{},"地":{"docs":{},"使":{"docs":{},"用":{"docs":{},"浏":{"docs":{},"览":{"docs":{},"器":{"docs":{},"打":{"docs":{},"开":{"docs":{},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}},"p":{"docs":{},"u":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.02574257425742574}},"/":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"=":{"0":{"docs":{},"x":{"0":{"docs":{},"e":{"docs":{},",":{"docs":{},"u":{"docs":{},"m":{"docs":{},"a":{"docs":{},"s":{"docs":{},"k":{"docs":{},"=":{"0":{"docs":{},"x":{"0":{"1":{"docs":{},",":{"docs":{},"i":{"docs":{},"n":{"docs":{},"v":{"docs":{},",":{"docs":{},"c":{"docs":{},"m":{"docs":{},"a":{"docs":{},"s":{"docs":{},"k":{"docs":{},"=":{"0":{"docs":{},"x":{"0":{"1":{"docs":{},"/":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"docs":{}},"docs":{}}},"docs":{}}}}}}}}}}}}},"docs":{}},"docs":{}}},"docs":{}}}}}}}}}},"docs":{}}},"docs":{}}}}}}}}}},"t":{"docs":{},"r":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}},"u":{"docs":{},"r":{"docs":{},"r":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"y":{"docs":{},"c":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}},"e":{"docs":{},"s":{"docs":{},",":{"docs":{},"i":{"docs":{},"n":{"docs":{},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{},",":{"docs":{},"c":{"docs":{},"a":{"docs":{},"c":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"时":{"docs":{},"，":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"被":{"docs":{},"写":{"docs":{},"入":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{},"文":{"docs":{},"件":{"docs":{},"中":{"docs":{},"。":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}},"c":{"docs":{},"a":{"docs":{},"c":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}}}}},"e":{"docs":{},"t":{"docs":{},"a":{"docs":{},"i":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"v":{"docs":{},"i":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"i":{"docs":{},"s":{"docs":{},"p":{"docs":{},"l":{"docs":{},"a":{"docs":{},"y":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"t":{"docs":{},"l":{"docs":{},"b":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.031683168316831684}},"g":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"n":{"docs":{},"t":{"docs":{},"i":{"docs":{},"r":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.011881188118811881}},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"x":{"docs":{},"a":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":5},"an online example.html":{"ref":"an online example.html","tf":5.019607843137255}}}}}},"t":{"4":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{},"r":{"docs":{},"a":{"docs":{},"s":{"docs":{},")":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"e":{"docs":{},"b":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"r":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"n":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"u":{"docs":{},"n":{"docs":{},"c":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}}}}}}}},"l":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{},"g":{"docs":{},"r":{"docs":{},"a":{"docs":{},"p":{"docs":{},"h":{"docs":{},".":{"docs":{},"p":{"docs":{},"l":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"o":{"docs":{},"l":{"docs":{},"l":{"docs":{},"o":{"docs":{},"w":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"指":{"docs":{},"定":{"docs":{},"记":{"docs":{},"录":{"docs":{},"事":{"docs":{},"件":{"docs":{},"的":{"docs":{},"频":{"docs":{},"率":{"9":{"9":{"docs":{},"h":{"docs":{},"z":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}},"docs":{}},"docs":{}}}}}}}}}}},"g":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"r":{"docs":{},"a":{"docs":{},"p":{"docs":{},"h":{"docs":{},"s":{"docs":{},"。":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"指":{"docs":{},"定":{"docs":{},"捕":{"docs":{},"获":{"docs":{},"程":{"docs":{},"序":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"。":{"docs":{},"当":{"docs":{},"执":{"docs":{},"行":{"docs":{},"c":{"docs":{},"t":{"docs":{},"r":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"记":{"docs":{},"录":{"docs":{},"下":{"docs":{},"函":{"docs":{},"数":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"h":{"docs":{},"e":{"docs":{},"a":{"docs":{},"d":{"docs":{},"e":{"docs":{},"r":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},"/":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}},"r":{"docs":{},"t":{"docs":{},"z":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"k":{"docs":{},"n":{"docs":{},"o":{"docs":{},"w":{"docs":{},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"t":{"docs":{},"h":{"docs":{},"r":{"docs":{},"e":{"docs":{},"a":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}}}},"w":{"docs":{},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{},"e":{"docs":{},"r":{"docs":{},"/":{"2":{"docs":{},":":{"1":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}},"docs":{}}},"docs":{}}}}}}}}},"l":{"1":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"2":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{},"a":{"docs":{},"s":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}},"i":{"docs":{},"n":{"docs":{},"e":{"docs":{},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"s":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"o":{"docs":{},"a":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}},"s":{"docs":{},",":{"docs":{},"d":{"docs":{},"t":{"docs":{},"l":{"docs":{},"b":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"l":{"1":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{},"l":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}},"m":{"docs":{},"e":{"docs":{},"m":{"docs":{},"o":{"docs":{},"r":{"docs":{},"y":{"docs":{},"是":{"docs":{},"否":{"docs":{},"到":{"docs":{},"达":{"docs":{},"瓶":{"docs":{},"颈":{"docs":{},"，":{"docs":{},"造":{"docs":{},"成":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"s":{"docs":{},"阻":{"docs":{},"塞":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}},"i":{"docs":{},"s":{"docs":{},"s":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"e":{"docs":{},"s":{"docs":{},",":{"docs":{},"b":{"docs":{},"u":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"d":{"docs":{},"t":{"docs":{},"l":{"docs":{},"b":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"l":{"1":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"docs":{},"l":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"a":{"docs":{},"i":{"docs":{},"n":{"docs":{},".":{"docs":{},"g":{"docs":{},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"o":{"docs":{},"b":{"docs":{},"j":{"docs":{},"e":{"docs":{},"c":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"l":{"docs":{},"i":{"docs":{},"n":{"docs":{"an online example.html":{"ref":"an online example.html","tf":5.019607843137255}}}}}},"p":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{},".":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}},"p":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.013861386138613862},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"e":{"docs":{},"r":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":5.0534653465346535},"an online example.html":{"ref":"an online example.html","tf":0.058823529411764705}},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"二":{"docs":{},"进":{"docs":{},"制":{"docs":{},"文":{"docs":{},"件":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"把":{"docs":{},"它":{"docs":{},"转":{"docs":{},"换":{"docs":{},"为":{"docs":{},"文":{"docs":{},"本":{"docs":{},"文":{"docs":{},"件":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}}}}}},"f":{"docs":{},"o":{"docs":{},"l":{"docs":{},"d":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0392156862745098}}}}}},"p":{"docs":{},"l":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}},"t":{"docs":{},"x":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0392156862745098}}}}}},"是":{"docs":{},"l":{"docs":{},"i":{"docs":{},"n":{"docs":{},"u":{"docs":{},"x":{"docs":{},"内":{"docs":{},"核":{"docs":{},"的":{"docs":{},"一":{"docs":{},"部":{"docs":{},"分":{"docs":{},"，":{"docs":{},"被":{"docs":{},"放":{"docs":{},"置":{"docs":{},"在":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}},"一":{"docs":{},"个":{"docs":{},"基":{"docs":{},"于":{"docs":{},"事":{"docs":{},"件":{"docs":{},"的":{"docs":{},"监":{"docs":{},"控":{"docs":{},"工":{"docs":{},"具":{"docs":{},"，":{"docs":{},"借":{"docs":{},"助":{"docs":{},"这":{"docs":{},"个":{"docs":{},"事":{"docs":{},"件":{"docs":{},"监":{"docs":{},"控":{"docs":{},"工":{"docs":{},"具":{"docs":{},"，":{"docs":{},"能":{"docs":{},"解":{"docs":{},"决":{"docs":{},"很":{"docs":{},"多":{"docs":{},"高":{"docs":{},"级":{"docs":{},"的":{"docs":{},"性":{"docs":{},"能":{"docs":{},"瓶":{"docs":{},"颈":{"docs":{},"，":{"docs":{},"以":{"docs":{},"及":{"docs":{},"发":{"docs":{},"现":{"docs":{},"各":{"docs":{},"种":{"docs":{},"疑":{"docs":{},"难":{"docs":{},"杂":{"docs":{},"症":{"docs":{},"。":{"docs":{},"它":{"docs":{},"能":{"docs":{},"解":{"docs":{},"答":{"docs":{},"如":{"docs":{},"下":{"docs":{},"几":{"docs":{},"类":{"docs":{},"问":{"docs":{},"题":{"docs":{},"：":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"i":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.013861386138613862}},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.013861386138613862}}}}},"l":{"docs":{},"e":{"docs":{},"a":{"docs":{},"s":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"m":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"s":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"o":{"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"r":{"docs":{},"s":{"docs":{},")":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}},"r":{"docs":{},"e":{"docs":{},"f":{"docs":{},"e":{"docs":{},"t":{"docs":{},"c":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}}},"r":{"docs":{},"e":{"docs":{},"q":{"docs":{},"u":{"docs":{},"i":{"docs":{},"s":{"docs":{},"i":{"docs":{},"t":{"docs":{},"e":{"docs":{},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}},"s":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"a":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"o":{"docs":{},"c":{"docs":{},"e":{"docs":{},"s":{"docs":{},"s":{"docs":{},"_":{"docs":{},"o":{"docs":{},"n":{"docs":{},"e":{"docs":{},"_":{"docs":{},"w":{"docs":{},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}}}}}}}}}}},"f":{"docs":{},"i":{"docs":{},"l":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}},"参":{"docs":{},"数":{"docs":{},"指":{"docs":{},"定":{"docs":{},"监":{"docs":{},"控":{"docs":{},"的":{"docs":{},"进":{"docs":{},"程":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}},"r":{"0":{"0":{"3":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"docs":{}},"docs":{}},"docs":{},"a":{"docs":{},"w":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},"_":{"docs":{},"s":{"docs":{},"y":{"docs":{},"s":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"s":{"docs":{},":":{"docs":{},"s":{"docs":{},"y":{"docs":{},"s":{"docs":{},"_":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}},"e":{"docs":{},"c":{"docs":{},"o":{"docs":{},"r":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.009900990099009901},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"命":{"docs":{},"令":{"docs":{},"用":{"docs":{},"来":{"docs":{},"追":{"docs":{},"踪":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"用":{"docs":{},"于":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"事":{"docs":{},"件":{"docs":{},"，":{"docs":{},"参":{"docs":{},"数":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}},"f":{"docs":{},"e":{"docs":{},"r":{"docs":{},"e":{"docs":{},"n":{"docs":{},"c":{"docs":{},"e":{"docs":{},"s":{"docs":{},",":{"docs":{},"c":{"docs":{},"a":{"docs":{},"c":{"docs":{},"h":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}},"p":{"docs":{},"o":{"docs":{},"r":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},"命":{"docs":{},"令":{"docs":{},"用":{"docs":{},"来":{"docs":{},"可":{"docs":{},"视":{"docs":{},"化":{"docs":{},"保":{"docs":{},"存":{"docs":{},"在":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{},"中":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"，":{"docs":{},"参":{"docs":{},"数":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"t":{"docs":{},"_":{"docs":{},"f":{"docs":{},"r":{"docs":{},"o":{"docs":{},"m":{"docs":{},"_":{"docs":{},"f":{"docs":{},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.009900990099009901}}}}}}}}}}}}}},"o":{"docs":{},"o":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}},"@":{"docs":{},"m":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"w":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"s":{"docs":{},"a":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.009900990099009901}},"e":{"docs":{},"s":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"c":{"docs":{},"h":{"docs":{},"e":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"u":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}}},"p":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"r":{"docs":{},"i":{"docs":{},"p":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"e":{"docs":{},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},"s":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.015841584158415842}}}}}}}},"l":{"docs":{},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"h":{"docs":{},"a":{"docs":{},"r":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"l":{"docs":{},"e":{"docs":{},"e":{"docs":{},"p":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.019801980198019802},"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"参":{"docs":{},"数":{"docs":{},"指":{"docs":{},"定":{"docs":{},"监":{"docs":{},"控":{"docs":{},"的":{"docs":{},"时":{"docs":{},"间":{"docs":{},"范":{"docs":{},"围":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}},"p":{"docs":{},"e":{"docs":{},"c":{"docs":{},"i":{"docs":{},"f":{"docs":{},"i":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.02574257425742574}},"c":{"docs":{},"a":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}},"t":{"docs":{},"a":{"docs":{},"c":{"docs":{},"k":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"c":{"docs":{},"o":{"docs":{},"l":{"docs":{},"l":{"docs":{},"a":{"docs":{},"p":{"docs":{},"s":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}},"l":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.03564356435643564}},"i":{"docs":{},"s":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.013861386138613862}},"i":{"docs":{},"c":{"docs":{},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}}}}}},"g":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"1":{"docs":{},":":{"docs":{},"/":{"docs":{},"r":{"docs":{},"o":{"docs":{},"o":{"docs":{},"t":{"docs":{},"/":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"/":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}},"d":{"docs":{},"i":{"docs":{},"o":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"指":{"docs":{},"定":{"docs":{},"按":{"docs":{},"照":{"docs":{},"树":{"docs":{},"状":{"docs":{},"结":{"docs":{},"构":{"docs":{},"展":{"docs":{},"示":{"docs":{},"。":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}},"o":{"docs":{},"r":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"s":{"docs":{},",":{"docs":{},"l":{"docs":{},"l":{"docs":{},"c":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}},"y":{"docs":{},"m":{"docs":{},"b":{"docs":{},"o":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"s":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"t":{"docs":{},"e":{"docs":{},"m":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}}}}},"t":{"docs":{},"i":{"docs":{},"m":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}},"l":{"docs":{},"b":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"o":{"docs":{},"o":{"docs":{},"l":{"docs":{},"s":{"docs":{},"/":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"文":{"docs":{},"件":{"docs":{},"目":{"docs":{},"录":{"docs":{},"下":{"docs":{},"。":{"docs":{},"它":{"docs":{},"使":{"docs":{},"用":{"docs":{},"了":{"docs":{},"很":{"docs":{},"多":{"docs":{},"l":{"docs":{},"i":{"docs":{},"n":{"docs":{},"u":{"docs":{},"x":{"docs":{},"的":{"docs":{},"t":{"docs":{},"r":{"docs":{},"a":{"docs":{},"c":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},"特":{"docs":{},"性":{"docs":{},"，":{"docs":{},"有":{"docs":{},"一":{"docs":{},"些":{"docs":{},"并":{"docs":{},"没":{"docs":{},"有":{"docs":{},"通":{"docs":{},"过":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"的":{"docs":{},"命":{"docs":{},"令":{"docs":{},"暴":{"docs":{},"露":{"docs":{},"出":{"docs":{},"来":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"使":{"docs":{},"用":{"docs":{},"f":{"docs":{},"t":{"docs":{},"r":{"docs":{},"a":{"docs":{},"c":{"docs":{},"e":{"docs":{},"接":{"docs":{},"口":{"docs":{},"代":{"docs":{},"替":{"docs":{},"。":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"r":{"docs":{},"a":{"docs":{},"c":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}},"p":{"docs":{},"o":{"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"s":{"docs":{},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}},"y":{"docs":{},"p":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}}}},"u":{"docs":{},"n":{"docs":{},"h":{"docs":{},"a":{"docs":{},"l":{"docs":{},"t":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"t":{"docs":{},"i":{"docs":{},"l":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}},"s":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0039603960396039604}}}},"v":{"docs":{},"a":{"docs":{},"r":{"docs":{},"i":{"docs":{},"o":{"docs":{},"u":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}}}}}},"i":{"docs":{},"a":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}},"m":{"docs":{},"s":{"docs":{},"c":{"docs":{},"a":{"docs":{},"n":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},"w":{"docs":{},"i":{"docs":{},"d":{"docs":{},"e":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}},":":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{},"e":{"docs":{},"r":{"docs":{},"_":{"docs":{},"t":{"docs":{},"h":{"docs":{},"r":{"docs":{},"e":{"docs":{},"a":{"docs":{},"d":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}}}}}}}}}}}}}},"|":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.007920792079207921}}},"~":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}},"/":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}},"➜":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.005940594059405941}}},"一":{"docs":{},"个":{"docs":{},"简":{"docs":{},"单":{"docs":{},"的":{"docs":{},"调":{"docs":{},"用":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"截":{"docs":{},"图":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}},"些":{"docs":{},"有":{"docs":{},"用":{"docs":{},"的":{"docs":{},"短":{"docs":{},"命":{"docs":{},"令":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}},"下":{"docs":{},"面":{"docs":{},"展":{"docs":{},"示":{"docs":{},"一":{"docs":{},"下":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}},"为":{"docs":{},"什":{"docs":{},"么":{"docs":{},"内":{"docs":{},"核":{"docs":{},"频":{"docs":{},"繁":{"docs":{},"占":{"docs":{},"用":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"？":{"docs":{},"代":{"docs":{},"码":{"docs":{},"的":{"docs":{},"调":{"docs":{},"用":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"是":{"docs":{},"什":{"docs":{},"么":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}}}},"什":{"docs":{},"么":{"docs":{},"正":{"docs":{},"在":{"docs":{},"触":{"docs":{},"发":{"docs":{},"t":{"docs":{},"c":{"docs":{},"p":{"docs":{},"重":{"docs":{},"传":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}},"以":{"docs":{},"及":{"docs":{},"f":{"docs":{},"l":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}},"列":{"docs":{},"出":{"docs":{},"系":{"docs":{},"统":{"docs":{},"支":{"docs":{},"持":{"docs":{},"的":{"docs":{},"事":{"docs":{},"件":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}},"哪":{"docs":{},"些":{"docs":{},"代":{"docs":{},"码":{"docs":{},"调":{"docs":{},"用":{"docs":{},"引":{"docs":{},"起":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}},"整":{"docs":{},"整":{"docs":{},"分":{"docs":{},"配":{"docs":{},"内":{"docs":{},"存":{"docs":{},"，":{"docs":{},"分":{"docs":{},"配":{"docs":{},"了":{"docs":{},"多":{"docs":{},"少":{"docs":{},"内":{"docs":{},"存":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}},"在":{"docs":{},"上":{"docs":{},"面":{"docs":{},"的":{"docs":{},"列":{"docs":{},"子":{"docs":{},"中":{"docs":{},"，":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}},"性":{"docs":{},"能":{"docs":{},"分":{"docs":{},"析":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}},"接":{"docs":{},"下":{"docs":{},"来":{"docs":{},"的":{"docs":{},"几":{"docs":{},"大":{"docs":{},"主":{"docs":{},"要":{"docs":{},"模":{"docs":{},"块":{"docs":{},"：":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"s":{"docs":{},",":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}},"某":{"docs":{},"个":{"docs":{},"内":{"docs":{},"核":{"docs":{},"函":{"docs":{},"数":{"docs":{},"是":{"docs":{},"否":{"docs":{},"正":{"docs":{},"在":{"docs":{},"被":{"docs":{},"调":{"docs":{},"用":{"docs":{},"？":{"docs":{},"调":{"docs":{},"用":{"docs":{},"频":{"docs":{},"率":{"docs":{},"是":{"docs":{},"多":{"docs":{},"少":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}}}},"正":{"docs":{},"在":{"docs":{},"执":{"docs":{},"行":{"docs":{},"的":{"docs":{},"线":{"docs":{},"程":{"docs":{},"被":{"docs":{},"换":{"docs":{},"出":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"的":{"docs":{},"原":{"docs":{},"因":{"docs":{},"是":{"docs":{},"什":{"docs":{},"么":{"docs":{},"？":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}}}}}}}}}}}}}}}},"计":{"docs":{},"数":{"docs":{},"相":{"docs":{},"关":{"docs":{},"事":{"docs":{},"件":{"docs":{"perf examples.html":{"ref":"perf examples.html","tf":0.0019801980198019802}}}}}}}},">":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.058823529411764705}}},"展":{"docs":{},"开":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"t":{"docs":{},"x":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}},"模":{"docs":{},"拟":{"docs":{},"流":{"docs":{},"量":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}},"生":{"docs":{},"成":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}},"火":{"docs":{},"焰":{"docs":{},"图":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"线":{"docs":{},"上":{"docs":{},"的":{"docs":{},"m":{"docs":{},"a":{"docs":{},"k":{"docs":{},"e":{"docs":{},"f":{"docs":{},"i":{"docs":{},"l":{"docs":{},"e":{"docs":{},"文":{"docs":{},"件":{"docs":{},"中":{"docs":{},"，":{"docs":{},"加":{"docs":{},"入":{"docs":{},"很":{"docs":{},"多":{"docs":{},"的":{"docs":{},"优":{"docs":{},"化":{"docs":{},"选":{"docs":{},"项":{"docs":{},"，":{"docs":{},"造":{"docs":{},"成":{"docs":{},"无":{"docs":{},"法":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"到":{"docs":{},"函":{"docs":{},"数":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"，":{"docs":{},"对":{"docs":{},"于":{"docs":{},"分":{"docs":{},"析":{"docs":{},"性":{"docs":{},"能":{"docs":{},"问":{"docs":{},"题":{"docs":{},"有":{"docs":{},"影":{"docs":{},"响":{"docs":{},"。":{"docs":{},"因":{"docs":{},"此":{"docs":{},"，":{"docs":{},"直":{"docs":{},"接":{"docs":{},"使":{"docs":{},"用":{"docs":{},"g":{"docs":{},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"编":{"docs":{},"译":{"docs":{},"一":{"docs":{},"个":{"docs":{},"可":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"的":{"docs":{},"二":{"docs":{},"进":{"docs":{},"制":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}},"转":{"docs":{},"换":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"length":246},"corpusTokens":["#","'block:*'","'block:block_rq_issue'","'ext4:*'","'sched:*'","'syscalls:sys_enter_*'","'vmscan:*'","((","(approx.):","(includ","(via","........","............",".................","................................","0","0.00%","1","10","100.00%","1000","16:35","19638","22","3.10.0版本追踪磁盘i/o的调用堆栈。","3.9m","30","5","9","99",">","[k]","[kernel.kallsyms]","ag","a指定追踪所有的cpus,参数","basic","block","block:block_rq_issu","block:block_rq_issue事件，参数","build","build编译。","c:","cach","call","children","command","command,","command:","copy到本地使用浏览器打开svg","core","count","counter","counters,","cpu","cpu/event=0x0e,umask=0x01,inv,cmask=0x01/","ctrl","current","cycl","cycles,instructions,cach","cycles:","c时，追踪的数据被写入perf.data文件中。perf","d","data","dcach","detail","devic","display","dtlb","e","eg,","entir","event","events,","events:","exampl","ext4","extras)","f","feb","flamegraph.pl","follow","frame","frontend","function","f指定记录事件的频率99hz，","g","go","graphs。","g指定捕获程序调用的堆栈。当执行ctrl","g记录下函数调用的堆栈，","header","header/","hertz,","hertz:","i/o","i=0;","info,","introduct","known","kthread","kworker/2:1h","l1","l2","last","level","lines,","list","ll","llc","load","loads,dtlb","loads,l1","loads,llc","main.go","memory是否到达瓶颈，造成cpus阻塞？","miss","misses,bu","misses,dtlb","misses,l1","misses,llc","misses？","n","object","on","onlin","options.","p","per","perf","perf.data","perf.data是一个二进制文件，需要把它转换为文本文件。","perf.fold","perf.pl","perf.svg","perf.txt","perf是linux内核的一部分，被放置在","perf是一个基于事件的监控工具，借助这个事件监控工具，能解决很多高级的性能瓶颈，以及发现各种疑难杂症。它能解答如下几类问题：","pid","pid,","pleas","pmc","pmcs:","pointers)","prefetch","prerequisites,","presentations,","print","process_one_work","profiling,","p参数指定监控的进程，","r003c","raw","raw_syscalls:sys_ent","record","record命令用来追踪","record用于追踪事件，参数","references,cach","report","report命令用来可视化保存在perf.data中的数据，参数","ret_from_fork","root","root@m","rw","sampl","samples:","sched","schedul","scp","script","second","second:","seconds:","self","share","sleep","sleep参数指定监控的时间范围。","specifi","specification:","stack","stackcollaps","staging1:/root/perf/perf.svg","stall","stat","statist","statistics,","stdio","stdio指定按照树状结构展示。","store","stores,llc","symbol","syscal","system","system,","time","tlb","tools/perf文件目录下。它使用了很多linux的tracing特性，有一些并没有通过perf的命令暴露出来，需要使用ftrace接口代替。","trace","tracepoints:","type","unhalt","until","us","variou","via","vmscan","wide,","wide:","worker_thread","|","~","~/data","➜","一个简单的调用堆栈截图","一些有用的短命令","下面展示一下perf","为什么内核频繁占用cpu？代码的调用堆栈是什么？","什么正在触发tcp重传？","介绍","以及flame","列出系统支持的事件","哪些代码调用引起cpu","哪些代码调用整整分配内存，分配了多少内存？","在上面的列子中，perf","展开perf.txt","性能分析","接下来的几大主要模块：events,","某个内核函数是否正在被调用？调用频率是多少？","模拟流量","正在执行的线程被换出cpu的原因是什么？","生成perf.data","生成svg","生成火焰图","用于收集一些常见的性能问题，以及perf使用的例子。","用法","线上的makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go","编译一个可追踪堆栈的二进制","计数相关事件","转换perf.data"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"介绍\n用于收集一些常见的性能问题，以及perf使用的例子。\n"},"perf examples.html":{"url":"perf examples.html","title":"perf examples","keywords":"","body":"perf 用法\n\nperf是一个基于事件的监控工具，借助这个事件监控工具，能解决很多高级的性能瓶颈，以及发现各种疑难杂症。它能解答如下几类问题：\n\n为什么内核频繁占用CPU？代码的调用堆栈是什么？\n哪些代码调用引起CPU L2 cache misses？\nmemory是否到达瓶颈，造成CPUs阻塞？\n哪些代码调用整整分配内存，分配了多少内存？\n什么正在触发TCP重传？\n某个内核函数是否正在被调用？调用频率是多少？\n正在执行的线程被换出CPU的原因是什么？\n\nperf是Linux内核的一部分，被放置在 tools/perf文件目录下。它使用了很多Linux的tracing特性，有一些并没有通过perf的命令暴露出来，需要使用ftrace接口代替。\n接下来的几大主要模块：Events, One-Lines, Presentations, Prerequisites, CPU statistics, Timed Profiling, 以及Flames Graphs。\n一个简单的调用堆栈截图\n下面展示一下perf 3.10.0版本追踪磁盘I/O的调用堆栈。\n➜  ~ perf record -e block:block_rq_issue -ag \n➜  ~ ll perf.data\n-rw------- 1 root root 3.9M Feb 22 16:35 perf.data\n➜  ~ perf report -n --stdio\n\n# To display the perf.data header info, please use --header/--header-only options.\n#\n# Samples: 9  of event 'block:block_rq_issue'\n# Event count (approx.): 9\n#\n# Children      Self       Samples  Command       Shared Object      Symbol                          \n# ........  ........  ............  ............  .................  ................................\n#\n   100.00%     0.00%             0  kworker/2:1H  [kernel.kallsyms]  [k] ret_from_fork               \n            |\n            ---ret_from_fork\n\n   100.00%     0.00%             0  kworker/2:1H  [kernel.kallsyms]  [k] kthread                     \n            |\n            ---kthread\n               ret_from_fork\n\n   100.00%     0.00%             0  kworker/2:1H  [kernel.kallsyms]  [k] worker_thread               \n            |\n            ---worker_thread\n               kthread\n               ret_from_fork\n\n   100.00%     0.00%             0  kworker/2:1H  [kernel.kallsyms]  [k] process_one_work            \n            |\n            ---process_one_work\n               worker_thread\n               kthread\n               ret_from_fork\n在上面的列子中，perf record命令用来追踪 block:block_rq_issue事件，参数-a指定追踪所有的CPUs,参数-g指定捕获程序调用的堆栈。当执行Ctrl-C时，追踪的数据被写入perf.data文件中。perf report命令用来可视化保存在perf.data中的数据，参数 --stdio指定按照树状结构展示。\n一些有用的短命令\n\n列出系统支持的事件\n\n# Listing all currently known events:\nperf list\n\n# Listing sched tracepoints:\nperf list 'sched:*'\n\n计数相关事件\n\n# CPU counter statistics for the specified command:\nperf stat command\n\n# Detailed CPU counter statistics (includes extras) for the specified command:\nperf stat -d command\n\n# CPU counter statistics for the specified PID, until Ctrl-C:\nperf stat -p PID\n\n# CPU counter statistics for the entire system, for 5 seconds:\nperf stat -a sleep 5\n\n# Various basic CPU statistics, system wide, for 10 seconds:\nperf stat -e cycles,instructions,cache-references,cache-misses,bus-cycles -a sleep 10\n\n# Various CPU level 1 data cache statistics for the specified command:\nperf stat -e L1-dcache-loads,L1-dcache-load-misses,L1-dcache-stores command\n\n# Various CPU data TLB statistics for the specified command:\nperf stat -e dTLB-loads,dTLB-load-misses,dTLB-prefetch-misses command\n\n# Various CPU last level cache statistics for the specified command:\nperf stat -e LLC-loads,LLC-load-misses,LLC-stores,LLC-prefetches command\n\n# Using raw PMC counters, eg, counting unhalted core cycles:\nperf stat -e r003c -a sleep 5 \n\n# PMCs: counting cycles and frontend stalls via raw specification:\nperf stat -e cycles -e cpu/event=0x0e,umask=0x01,inv,cmask=0x01/ -a sleep 5\n\n# Count syscalls per-second system-wide:\nperf stat -e raw_syscalls:sys_enter -I 1000 -a\n\n# Count system calls by type for the specified PID, until Ctrl-C:\nperf stat -e 'syscalls:sys_enter_*' -p PID\n\n# Count system calls by type for the entire system, for 5 seconds:\nperf stat -e 'syscalls:sys_enter_*' -a sleep 5\n\n# Count scheduler events for the specified PID, until Ctrl-C:\nperf stat -e 'sched:*' -p PID\n\n# Count scheduler events for the specified PID, for 10 seconds:\nperf stat -e 'sched:*' -p PID sleep 10\n\n# Count ext4 events for the entire system, for 10 seconds:\nperf stat -e 'ext4:*' -a sleep 10\n\n# Count block device I/O events for the entire system, for 10 seconds:\nperf stat -e 'block:*' -a sleep 10\n\n# Count all vmscan events, printing a report every second:\nperf stat -e 'vmscan:*' -a -I 1000\n\n性能分析\n\n# Sample on-CPU functions for the specified command, at 99 Hertz:\nperf record -F 99 command\n\n# Sample on-CPU functions for the specified PID, at 99 Hertz, until Ctrl-C:\nperf record -F 99 -p PID\n\n# Sample on-CPU functions for the specified PID, at 99 Hertz, for 10 seconds:\nperf record -F 99 -p PID sleep 10\n\n# Sample CPU stack traces (via frame pointers) for the specified PID, at 99 Hertz, for 10 seconds:\nperf record -F 99 -p PID -g -- sleep 10\n"},"an online example.html":{"url":"an online example.html","title":"an online example","keywords":"","body":"an online example\n编译一个可追踪堆栈的二进制\n\ngo build main.go\n\n线上的Makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go build编译。\n模拟流量\nfor (( i=0; i\n生成火焰图\n\n生成perf.data\n\n\nperf record -F 99 -a -g -p 19638 -- sleep 30\n\nperf record用于追踪事件，参数-F指定记录事件的频率99Hz，-g记录下函数调用的堆栈，-p参数指定监控的进程，--sleep参数指定监控的时间范围。\n\n转换perf.data\n\n\nperf script > perf.txt\n\nperf.data是一个二进制文件，需要把它转换为文本文件。\n\n展开perf.txt\n\n\nstackcollapse-perf.pl perf.txt > perf.folded\n\n\n生成svg\n\n\nflamegraph.pl perf.folded > perf.svg\n\ncopy到本地使用浏览器打开svg\n\n scp root@ms-follow-staging1:/root/perf/perf.svg ~/data\n\n\n"}}}