{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["introduct","介绍","用于收集一些常见的性能问题，以及perf使用的例子。"],"an online example.html":["((","19638","30","99",">","build","build编译。","copy到本地使用浏览器打开svg","exampl","f","flamegraph.pl","follow","f指定记录事件的频率99hz，","g","go","g记录下函数调用的堆栈，","i=0;","main.go","onlin","p","perf","perf.data是一个二进制文件，需要把它转换为文本文件。","perf.fold","perf.pl","perf.svg","perf.txt","p参数指定监控的进程，","record","record用于追踪事件，参数","root@m","scp","script","sleep","sleep参数指定监控的时间范围。","stackcollaps","staging1:/root/perf/perf.svg","~/data","展开perf.txt","模拟流量","生成perf.data","生成svg","生成火焰图","线上的makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go","编译一个可追踪堆栈的二进制","转换perf.data"]},"length":2},"tokenStore":{"root":{"1":{"9":{"6":{"3":{"8":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{}},"docs":{}},"docs":{}},"docs":{}},"3":{"0":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{}},"9":{"9":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"docs":{}},"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":10}}}}}}}}}},"=":{"0":{"docs":{},";":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},"docs":{}}},"介":{"docs":{},"绍":{"docs":{"./":{"ref":"./","tf":0.5}}}},"用":{"docs":{},"于":{"docs":{},"收":{"docs":{},"集":{"docs":{},"一":{"docs":{},"些":{"docs":{},"常":{"docs":{},"见":{"docs":{},"的":{"docs":{},"性":{"docs":{},"能":{"docs":{},"问":{"docs":{},"题":{"docs":{},"，":{"docs":{},"以":{"docs":{},"及":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"使":{"docs":{},"用":{"docs":{},"的":{"docs":{},"例":{"docs":{},"子":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.5}}}}}}}}}}}}}}}}}}}}}}}}}}}},"(":{"docs":{},"(":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},">":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.058823529411764705}}},"b":{"docs":{},"u":{"docs":{},"i":{"docs":{},"l":{"docs":{},"d":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"编":{"docs":{},"译":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"到":{"docs":{},"本":{"docs":{},"地":{"docs":{},"使":{"docs":{},"用":{"docs":{},"浏":{"docs":{},"览":{"docs":{},"器":{"docs":{},"打":{"docs":{},"开":{"docs":{},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}},"e":{"docs":{},"x":{"docs":{},"a":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{"an online example.html":{"ref":"an online example.html","tf":10.019607843137255}}}}}}}},"f":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"l":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{},"g":{"docs":{},"r":{"docs":{},"a":{"docs":{},"p":{"docs":{},"h":{"docs":{},".":{"docs":{},"p":{"docs":{},"l":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"o":{"docs":{},"l":{"docs":{},"l":{"docs":{},"o":{"docs":{},"w":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"指":{"docs":{},"定":{"docs":{},"记":{"docs":{},"录":{"docs":{},"事":{"docs":{},"件":{"docs":{},"的":{"docs":{},"频":{"docs":{},"率":{"9":{"9":{"docs":{},"h":{"docs":{},"z":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}},"docs":{}},"docs":{}}}}}}}}}}},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"记":{"docs":{},"录":{"docs":{},"下":{"docs":{},"函":{"docs":{},"数":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"m":{"docs":{},"a":{"docs":{},"i":{"docs":{},"n":{"docs":{},".":{"docs":{},"g":{"docs":{},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}},"o":{"docs":{},"n":{"docs":{},"l":{"docs":{},"i":{"docs":{},"n":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"p":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.058823529411764705}},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"二":{"docs":{},"进":{"docs":{},"制":{"docs":{},"文":{"docs":{},"件":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"把":{"docs":{},"它":{"docs":{},"转":{"docs":{},"换":{"docs":{},"为":{"docs":{},"文":{"docs":{},"本":{"docs":{},"文":{"docs":{},"件":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}}}}}},"f":{"docs":{},"o":{"docs":{},"l":{"docs":{},"d":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0392156862745098}}}}}},"p":{"docs":{},"l":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}},"t":{"docs":{},"x":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0392156862745098}}}}}}}}},"参":{"docs":{},"数":{"docs":{},"指":{"docs":{},"定":{"docs":{},"监":{"docs":{},"控":{"docs":{},"的":{"docs":{},"进":{"docs":{},"程":{"docs":{},"，":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}},"r":{"docs":{},"e":{"docs":{},"c":{"docs":{},"o":{"docs":{},"r":{"docs":{},"d":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"用":{"docs":{},"于":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"事":{"docs":{},"件":{"docs":{},"，":{"docs":{},"参":{"docs":{},"数":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}},"o":{"docs":{},"o":{"docs":{},"t":{"docs":{},"@":{"docs":{},"m":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}},"s":{"docs":{},"c":{"docs":{},"p":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}},"r":{"docs":{},"i":{"docs":{},"p":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"l":{"docs":{},"e":{"docs":{},"e":{"docs":{},"p":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}},"参":{"docs":{},"数":{"docs":{},"指":{"docs":{},"定":{"docs":{},"监":{"docs":{},"控":{"docs":{},"的":{"docs":{},"时":{"docs":{},"间":{"docs":{},"范":{"docs":{},"围":{"docs":{},"。":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}},"t":{"docs":{},"a":{"docs":{},"c":{"docs":{},"k":{"docs":{},"c":{"docs":{},"o":{"docs":{},"l":{"docs":{},"l":{"docs":{},"a":{"docs":{},"p":{"docs":{},"s":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}},"g":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"1":{"docs":{},":":{"docs":{},"/":{"docs":{},"r":{"docs":{},"o":{"docs":{},"o":{"docs":{},"t":{"docs":{},"/":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},"/":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}},"~":{"docs":{},"/":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}},"展":{"docs":{},"开":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"t":{"docs":{},"x":{"docs":{},"t":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}},"模":{"docs":{},"拟":{"docs":{},"流":{"docs":{},"量":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}},"生":{"docs":{},"成":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}},"s":{"docs":{},"v":{"docs":{},"g":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}},"火":{"docs":{},"焰":{"docs":{},"图":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}},"线":{"docs":{},"上":{"docs":{},"的":{"docs":{},"m":{"docs":{},"a":{"docs":{},"k":{"docs":{},"e":{"docs":{},"f":{"docs":{},"i":{"docs":{},"l":{"docs":{},"e":{"docs":{},"文":{"docs":{},"件":{"docs":{},"中":{"docs":{},"，":{"docs":{},"加":{"docs":{},"入":{"docs":{},"很":{"docs":{},"多":{"docs":{},"的":{"docs":{},"优":{"docs":{},"化":{"docs":{},"选":{"docs":{},"项":{"docs":{},"，":{"docs":{},"造":{"docs":{},"成":{"docs":{},"无":{"docs":{},"法":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"到":{"docs":{},"函":{"docs":{},"数":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"，":{"docs":{},"对":{"docs":{},"于":{"docs":{},"分":{"docs":{},"析":{"docs":{},"性":{"docs":{},"能":{"docs":{},"问":{"docs":{},"题":{"docs":{},"有":{"docs":{},"影":{"docs":{},"响":{"docs":{},"。":{"docs":{},"因":{"docs":{},"此":{"docs":{},"，":{"docs":{},"直":{"docs":{},"接":{"docs":{},"使":{"docs":{},"用":{"docs":{},"g":{"docs":{},"o":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"编":{"docs":{},"译":{"docs":{},"一":{"docs":{},"个":{"docs":{},"可":{"docs":{},"追":{"docs":{},"踪":{"docs":{},"堆":{"docs":{},"栈":{"docs":{},"的":{"docs":{},"二":{"docs":{},"进":{"docs":{},"制":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}}},"转":{"docs":{},"换":{"docs":{},"p":{"docs":{},"e":{"docs":{},"r":{"docs":{},"f":{"docs":{},".":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"a":{"docs":{"an online example.html":{"ref":"an online example.html","tf":0.0196078431372549}}}}}}}}}}}}}},"length":48},"corpusTokens":["((","19638","30","99",">","build","build编译。","copy到本地使用浏览器打开svg","exampl","f","flamegraph.pl","follow","f指定记录事件的频率99hz，","g","go","g记录下函数调用的堆栈，","i=0;","introduct","main.go","onlin","p","perf","perf.data是一个二进制文件，需要把它转换为文本文件。","perf.fold","perf.pl","perf.svg","perf.txt","p参数指定监控的进程，","record","record用于追踪事件，参数","root@m","scp","script","sleep","sleep参数指定监控的时间范围。","stackcollaps","staging1:/root/perf/perf.svg","~/data","介绍","展开perf.txt","模拟流量","生成perf.data","生成svg","生成火焰图","用于收集一些常见的性能问题，以及perf使用的例子。","线上的makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go","编译一个可追踪堆栈的二进制","转换perf.data"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"介绍\n用于收集一些常见的性能问题，以及perf使用的例子。\n"},"an online example.html":{"url":"an online example.html","title":"an example","keywords":"","body":"an online example\n编译一个可追踪堆栈的二进制\n\ngo build main.go\n\n线上的Makefile文件中，加入很多的优化选项，造成无法追踪到函数调用的堆栈，对于分析性能问题有影响。因此，直接使用go build编译。\n模拟流量\nfor (( i=0; i\n生成火焰图\n\n生成perf.data\n\n\nperf record -F 99 -a -g -p 19638 -- sleep 30\n\nperf record用于追踪事件，参数-F指定记录事件的频率99Hz，-g记录下函数调用的堆栈，-p参数指定监控的进程，--sleep参数指定监控的时间范围。\n\n转换perf.data\n\n\nperf script > perf.txt\n\nperf.data是一个二进制文件，需要把它转换为文本文件。\n\n展开perf.txt\n\n\nstackcollapse-perf.pl perf.txt > perf.folded\n\n\n生成svg\n\n\nflamegraph.pl perf.folded > perf.svg\n\ncopy到本地使用浏览器打开svg\n\n scp root@ms-follow-staging1:/root/perf/perf.svg ~/data\n\n\n"}}}